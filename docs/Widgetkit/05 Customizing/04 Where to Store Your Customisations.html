<h1 class="title">Where to Store Your Customisations</h1>

<p>
    Placing your WK customisations into the Widgetkit folder is a bad practice for many reasons, instead checkout the following alternatives.
</p>

<h2>Theme folder</h2>

<p>
    If using Warp7, you can place the customisations into the <code>THEME-NAME/widgetkit/content/PROVIDER-NAME</code> folder. Simple as that, Widgetkit will check that folder for any Content Provider or Widget plugin.
</p>

<h2>Standalone Joomla Plugin</h2>

<p>
    Placing the customisations in your own standalone plugin is the best way to extend Widgetkit without compromising those when updating. Your standalone plugin should load the Widgetkit App and register your custom plugins during the Widgetkit booting. In fact is very easy, let's see how would look the main plugin file code.
</p>

<pre><code>
&lt;?php

class plgSystemPLUGIN-NAME extends JPlugin
{
    public function onAfterInitialise()
    {
        // load Widgetkit App
        if (!$app = @include JPATH_ADMINISTRATOR.'/components/com_widgetkit/widgetkit-app.php') {
            return;
        }

        // register all plugins
        $app['plugins']->addPath(__DIR__.'/plugins/*/*/plugin.php');

        // register each CONTENT provider plugin path
        $app['locator']->addPath('plugins/content/PLUGIN-NAME', __DIR__.'/plugins/content/PLUGIN-NAME');

        // register each WIDGET plugin path
        $app['locator']->addPath('plugins/widgets/PLUGIN-NAME', __DIR__.'/plugins/widgets/PLUGIN-NAME');
    }
}

</code></pre>

<p>
    The plugin folder structure should looke like this.
</p>
<p>
    The plugin folder structure should looke like this and the whole content must be placed into <code>/plugins/system/JOOMLA-PLUGIN-NAME</code> folder.
</p>
    
<pre><code>
+-- plugins/                            // Your custom Widgetkit plugins folder
+----- content/                         // Content provider plugins folder
|         WK-CONTENT-PLUGIN-NAME/
+----- widgets/                         // Widgets plugins folder
|         WK-WIDGET-PLUGIN-NAME/
|-- JOOMLA-PLUGIN-NAME.php              // The main plugin file
|-- JOOMLA-PLUGIN-NAME.xml              // The main plugin xml file
</code></pre>

<h2>Standalone WordPress Plugin</h2>

<p>
    As in Joomla, we can create our own WordPress plugin and provide a nice, update-proof customisation. The main plugin file code would look like this.
</p>

<pre><code>
&lt;?php

/*
    Plugin Name: PLUGIN-NAME
*/

add_action('plugins_loaded', function() {

    // load Widgetkit App
    $app = $GLOBALS['widgetkit'];
    
    // register all plugins
    $app['plugins']->addPath(__DIR__.'/plugins/*/*/plugin.php');

    // register each CONTENT provider plugin path
    $app['locator']->addPath('plugins/content/PLUGIN-NAME', __DIR__.'/plugins/content/PLUGIN-NAME');

    // register each WIDGET plugin path
    $app['locator']->addPath('plugins/widgets/PLUGIN-NAME', __DIR__.'/plugins/widgets/PLUGIN-NAME');
});
</code></pre>

<p>
    The plugin folder structure should looke like this and the whole content must be placed into <code>/wp-content/plugins/WP-PLUGIN-NAME</code> folder.
</p>
    
<pre><code>
+-- plugins/                            // Your custom Widgetkit plugins folder
+----- content/                         // Content provider plugins folder
|         WK-CONTENT-PLUGIN-NAME/
+----- widgets/                         // Widgets plugins folder
|         WK-WIDGET-PLUGIN-NAME/
|-- WP-PLUGIN-NAME.php                  // The main plugin file
</code></pre>