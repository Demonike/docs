<h1 class="title">Create a Custom Widget Plugin</h1>

<p>
    Widgetkit is very modular and extendable by design, you can easily add your own widget plugin. To do so, you could copy an existing one and start adapting it to your needs or create a new one from scratch following this simple tutorial. You can find the inbuilt plugins in the <code>/wp-content/plugins/widgetkit/plugins/widgets</code> in WordPress and <code>/administrator/components/com_widgetkit/plugins/widgets</code> folder in Joomla.

    <span class="badge">NOTE</span> For guidance about where to store your customizations, please check out {doc: where-to-store-your-customizations text:this} doc.
</p>

<h2>File structure</h2>

<pre><code>
|-- plugin.php          // main plugin content
|-- widget.svg          // plugin icon in SVG format
+-- views/
|      edit.php         // edit form layout
|      widget.php       // widget form layout
</code></pre>

<h2>plugin.php</h2>

<p>
    The <code>plugin.php</code> file contains a PHP array to set your plugin by passing the configurations and event functions to Widgetkit.
</p>

<pre><code>
&lt;?php

array(

    // main Class the plugin is extending
    'main' => 'YOOtheme\\Widgetkit\\Widget\\Widget',

    // plugin configuration
    'config' => function($app) {

        return array(

            // plugin raw name
            'name'  => 'PLUGIN-NAME',

            // plugin label which will be displayed to the user
            'label' => 'PLUGIN-LABEL',

            // url to the icon that will be used in the widget plugin overview
            'icon'  => $app['url']->to('plugins/widgets/PLUGIN-NAME/widget.svg'),

            // path to the view file that will be used when rendering the widget
            'view'  => 'plugins/widgets/PLUGIN-NAME/views/widget.php',

            // supported widget fields
            // a list of fields the widget requires from a selected content element. Example: The map requires a 'location' field to be present.
            'item'  => array('title', 'content'),

            // default settings to be used for every widget instance
            'settings'  => array(
                'key' => 'value
            )
        );
    },

    // an array of Widgetkit events you can hook into
    'events' => array(

        // triggered when Widgetkit is initialized in the back end
        'init.admin' => function($event, $app) {

            // registers the edit view
            $app['angular']->addTemplate('PLUGIN-NAME.edit', 'plugins/widgets/PLUGIN-NAME/views/edit.php', true);
        },

        // triggered when Widgetkit is initialized in the front end
        'init.site' => function($event, $app) {},

        // triggered when Widgetkit is initialized
        'init' => function($event, $app) {}
    )

);
</code></pre>

<h2>edit.php</h2>

TODO

<h2>widget.php</h2>

TODO